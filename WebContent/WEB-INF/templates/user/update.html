<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
	<div th:replace="~{includes/meta :: meta}" />
	<title>Profil bearbeiten</title>
	<div th:replace="~{includes/styles :: styles}" />
	<link rel="stylesheet" th:href="@{/resources/assets/profile.css}" />
	<link rel="stylesheet" th:href="@{/resources/assets/edit.css}" />
</head>
<body>
	<div th:replace="~{includes/header :: header}" />
	
	<div class="container profile">
	   <div class="card hovercard">
	      <div class="card-background">
	         <img class="card-bkimg" alt="" th:src="@{/resources/img/no-userpic.jpg}">
	      </div>
	      <div class="useravatar">
	         <img alt="" th:src="@{/resources/img/no-userpic.jpg}" />
	      </div>
	      <div class="card-info"> 
	         <span class="card-title">[[${user.firstName}]] [[${user.lastName}]]</span>
	      </div>
	      <div class="card-edit">
	         <a href="edit.php" class="btn btn-default btn-xs">
	         <i class="icon ion-ios-camera-outline"></i> Profilfoto ändern
	         </a>
	      </div>
	   </div>
	   <div class="btn-pref btn-group btn-group-justified btn-group-lg" role="group" aria-label="...">
	      <div class="btn-group" role="group">
	         <button type="button" id="stars" class="btn btn-primary" href="#tab1" data-toggle="tab">
	            <i class="icon ion-ios-information-circle-outline"></i>
	            <div class="hidden-xs">Allgemeines</div>
	         </button>
	      </div>
	      <div class="btn-group" role="group">
	         <button type="button" id="favorites" class="btn btn-default" href="#tab2" data-toggle="tab">
	            <i class="icon ion-ios-contact-outline"></i>
	            <div class="hidden-xs">Aussehen</div>
	         </button>
	      </div>
	      <div class="btn-group" role="group">
	         <button type="button" id="following" class="btn btn-default" href="#tab3" data-toggle="tab">
	            <i class="icon ion-ios-happy-outline"></i>
	            <div class="hidden-xs">Charakter</div>
	         </button>
	      </div>
	      <div class="btn-group" role="group">
	         <button type="button" id="following" class="btn btn-default" href="#tab4" data-toggle="tab">
	            <i class="icon ion-ios-book-outline"></i>
	            <div class="hidden-xs">Über mich</div>
	         </button>
	      </div>
	      <div class="btn-group" role="group">
	         <button type="button" id="following" class="btn btn-default" href="#tab5" data-toggle="tab">
	            <i class="icon ion-ios-images-outline"></i>
	            <div class="hidden-xs">Fotos</div>
	         </button>
	      </div>
	   </div>
	   <div class="well">
	      <div class="tab-content">
	         <div class="tab-pane fade in active" id="tab1">
	            <div class="row">
	               <div class="col-md-6 col-md-offset-3">
	                  <form class="form-horizontal" method="post" th:action="@{'/user/save/' + ${user.userId}}">
	                     <fieldset>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="username">Benutzername</label>  
	                           <div class="col-md-4">
	                              <div class="input-group">
	                                 <div class="input-group-addon">
	                                    <i class="fa fa-users"></i>
	                                 </div>
	                                 <input id="username" name="username" th:value="${user.username}" disabled type="text" class="form-control input-md">
	                              </div>
	                              <div class="help-block"></div>
	                           </div>
	                        </div>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="firstName">Vorname</label>  
	                           <div class="col-md-4">
	                              <div class="input-group">
	                                 <div class="input-group-addon">
	                                    <i class="fa fa-user"></i>
	                                 </div>
	                                 <input id="firstName" name="firstName" th:value="${user.firstName}" type="text" class="form-control input-md">
	                              </div>
	                              <div class="help-block">[[${bindingResult != null && bindingResult.hasFieldErrors("firstName")} ? ${bindingResult.getFieldError("firstName").getDefaultMessage()} : '']]</div>
	                           </div>
	                        </div>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="lastName">Nachname</label>  
	                           <div class="col-md-4">
	                              <div class="input-group">
	                                 <div class="input-group-addon">
	                                    <i class="fa fa-user"></i>
	                                 </div>
	                                 <input id="lastName" name="lastName" th:value="${user.lastName}" type="text" class="form-control input-md">
	                              </div>
	                              <div class="help-block">[[${bindingResult != null && bindingResult.hasFieldErrors("lastName")} ? ${bindingResult.getFieldError("lastName").getDefaultMessage()} : '']]</div>
	                           </div>
	                        </div>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="email">E-Mail Adresse</label>  
	                           <div class="col-md-4">
	                              <div class="input-group">
	                                 <div class="input-group-addon">
	                                    <i class="fa fa-envelope"></i>
	                                 </div>
	                                 <input id="email" name="email" th:value="${user.email}" type="text" class="form-control input-md">
	                              </div>
	                              <div class="help-block">[[${bindingResult != null && bindingResult.hasFieldErrors("email")} ? ${bindingResult.getFieldError("email").getDefaultMessage()} : '']]</div>
	                           </div>
	                        </div>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="birthday">Geburtstag</label>  
	                           <div class="col-md-4">
	                              <div class="input-group">
	                                 <div class="input-group-addon">
	                                    <i class="fa fa-calendar"></i>
	                                 </div>
	                                 <input id="birthday" name="birthday" th:value="${#calendars.format(user.birthday, 'dd.MM.yyyy')}" disabled type="text" class="form-control input-md">
	                              </div>
	                           </div>
	                        </div>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="gender">Geschlecht</label>  
	                           <div class="col-md-4">
	                              <div class="input-group">
	                                 <div class="input-group-addon">
	                                    <i class="fa fa-venus-mars"></i>
	                                 </div>
	                                 <input id="gender" name="gender" th:value="${user.gender.name}" disabled type="text" class="form-control input-md">
	                              </div>
	                           </div>
	                        </div>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="region">Bezirk</label>
	                           <div class="col-md-4">
	                              <div class="input-group">
	                                 <div class="input-group-addon">
	                                    <i class="fa fa-map-marker fa-lg" aria-hidden="true"></i>
	                                 </div>
	                                 <select name="region" id="region" class="form-control">
										<option th:each="region : ${regions}" th:value="${region.regionId}" th:text="${region.name}" th:selected="${user.region.name == region.name}"></option>
	                                 </select>
	                              </div>
	                           </div>
	                        </div>
	                        <div class="col-md-4 col-md-offset-4">
	                           <button class="btn btn-primary">
	                           <i class="fa fa-check"></i>
	                           Speichern
	                           </button>
	                        </div>
	                     </fieldset>
	                  </form>
	               </div>
	            </div>
	         </div>
	         <div class="tab-pane fade in" id="tab2">
	            <div class="row">
	               <div class="col-md-6 col-md-offset-3">
	                  <form class="form-horizontal" method="post" th:action="@{'/user/saveLook/' + ${user.userId}}">
	                     <fieldset>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="hairColor">Haarfarbe</label>
	                           <div class="col-md-4">
	                              <select name="hairColor" id="hairColor" class="form-control">
	                                 <option value="">--Bitte wählen--</option>
	                                 <option value="Platinblond" th:selected="${user.hairColor == 'Platinblond'}">Platinblond</option>
	                                 <option value="Mittelbond" th:selected="${user.hairColor == 'Mittelbond'}">Mittelbond</option>
	                                 <option value="Dunkelblond" th:selected="${user.hairColor == 'Dunkelblond'}">Dunkelblond</option>
	                                 <option value="Hellbraun" th:selected="${user.hairColor == 'Hellbraun'}">Hellbraun</option>
	                                 <option value="Mittelbraun" th:selected="${user.hairColor == 'Mittelbraun'}">Mittelbraun</option>
	                                 <option value="Dunkelbraun" th:selected="${user.hairColor == 'Dunkelbraun'}">Dunkelbraun</option>
	                                 <option value="Schwarz" th:selected="${user.hairColor == 'Schwarz'}">Schwarz</option>
	                                 <option value="Kupferrot" th:selected="${user.hairColor == 'Kupferrot'}">Kupferrot</option>
	                                 <option value="Rot" th:selected="${user.hairColor == 'Rot'}">Rot</option>
	                                 <option value="Blau" th:selected="${user.hairColor == 'Blau'}">Blau</option>
	                                 <option value="Grün" th:selected="${user.hairColor == 'Grün'}">Grün</option>
	                                 <option value="Weiß" th:selected="${user.hairColor == 'Weiß'}">Weiß</option>
	                                 <option value="Grau" th:selected="${user.hairColor == 'Grau'}">Grau</option>
	                                 <option value="Pink" th:selected="${user.hairColor == 'Pink'}">Pink</option>
	                              </select>
	                           </div>
	                        </div>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="hairLength">Haarlänge</label>
	                           <div class="col-md-4">
	                              <select name="hairLength" id="hairLength" class="form-control">
	                                 <option value="">--Bitte wählen--</option>
	                                 <option value="Keine" th:selected="${user.hairLength == 'Keine'}">Keine</option>
	                                 <option value="Sehr kurz" th:selected="${user.hairLength == 'Sehr kurz'}">Sehr kurz</option>
	                                 <option value="Kurz" th:selected="${user.hairLength == 'Kurz'}">Kurz</option>
	                                 <option value="Bis zu den Ohren" th:selected="${user.hairLength == 'Bis zu den Ohren'}">Bis zu den Ohren</option>
	                                 <option value="Kinnlang" th:selected="${user.hairLength == 'Kinnlang'}">Kinnlang</option>
	                                 <option value="Schulterlang" th:selected="${user.hairLength == 'Schulterlang'}">Schulterlang</option>
	                                 <option value="Bis zur Brust" th:selected="${user.hairLength == 'Bis zur Brust'}">Bis zur Brust</option>
	                                 <option value="Bis zum Bauch" th:selected="${user.hairLength == 'Bis zum Bauch'}">Bis zum Bauch</option>
	                                 <option value="Bis zur Hüfte" th:selected="${user.hairLength == 'Bis zur Hüfte'}">Bis zur Hüfte</option>
	                                 <option value="Über die Hüfte" th:selected="${user.hairLength == 'Über die Hüfte'}">Über die Hüfte</option>
	                              </select>
	                           </div>
	                        </div>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="eyeColor">Augenfarbe</label>
	                           <div class="col-md-4">
	                              <select name="eyeColor" id="eyeColor" class="form-control">
	                                 <option value="">--Bitte wählen--</option>
	                                 <option value="Braun" th:selected="${user.eyeColor == 'Braun'}">Braun</option>
	                                 <option value="Schwarz" th:selected="${user.eyeColor == 'Schwarz'}">Schwarz</option>
	                                 <option value="Grün" th:selected="${user.eyeColor == 'Grün'}">Grün</option>
	                                 <option value="Blau" th:selected="${user.eyeColor == 'Blau'}">Blau</option>
	                              </select>
	                           </div>
	                        </div>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="bodyType">Körperbau</label>
	                           <div class="col-md-4">
	                              <select name="bodyType" id="bodyType" class="form-control">
	                                 <option value="">--Bitte wählen--</option>
	                                 <option value="Schlank" th:selected="${user.bodyType == 'Schlank'}">Schlank</option>
	                                 <option value="Normal" th:selected="${user.bodyType == 'Normal'}">Normal</option>
	                                 <option value="Füllig" th:selected="${user.bodyType == 'Füllig'}">Füllig</option>
	                                 <option value="Muskulös" th:selected="${user.bodyType == 'Muskulös'}">Muskulös</option>
	                              </select>
	                           </div>
	                        </div>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="height">Größe</label>  
	                           <div class="col-md-4">
	                              <input id="height" name="height" th:value="${user.height}" type="text" class="form-control input-md">
	                           </div>
	                        </div>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="hasPiercing">Piercings</label>
	                           <div class="col-md-4">
	                              <select name="hasPiercing" id="hasPiercing" class="form-control">
	                              	 <option value="false" th:selected="${user.hasPiercing != null && !user.hasPiercing}">Nein</option>
	                                 <option value="true" th:selected="${user.hasPiercing != null && user.hasPiercing}">Ja</option>
	                              </select>
	                           </div>
	                        </div>
	                        <div class="form-group">
	                           <label class="col-md-4 control-label" for="hasTattoos">Tattoos</label>
	                           <div class="col-md-4">
	                              <select name="hasTattoos" id="hasTattoos" class="form-control">
	                                 <option value="false" th:selected="${user.hasTattoos != null && !user.hasTattoos}">Nein</option>
	                                 <option value="true" th:selected="${user.hasTattoos != null && user.hasTattoos}">Ja</option>
	                              </select>
	                           </div>
	                        </div>
	                        <div class="col-md-4 col-md-offset-4">
	                           <button class="btn btn-primary">
	                           <i class="fa fa-check"></i>
	                           Speichern
	                           </button>
	                        </div>
	                     </fieldset>
	                  </form>
	               </div>
	            </div>
	         </div>
	         <div class="tab-pane fade in" id="tab3">
	            <div class="row">
	               <div class="col-md-6 col-md-offset-3">
	                  <form class="form-horizontal">
	                     <fieldset>
	                        <div class="form-group" th:each="character : ${characters}">
	                           <label class="col-md-4 control-label" for="">[[${character.name}]]</label>  
	                           <div class="col-md-4">
	                              <select th:name="('personalCharacters[' + ${character.name} + ']')" id="eigenschaft1" class="form-control">
	                              	 <option value="0" >Nein</option>
	                                 <option value="1" th:selected="(${user.hasPersonalCharacter(character)} == true)">Ja</option>
	                              </select>
	                           </div>
	                        </div>
	                        <div class="col-md-4 col-md-offset-4">
	                           <button class="btn btn-primary" type="button" onclick="alert('Diese Funktion ist deaktiviert.')">
	                           <i class="fa fa-check"></i>
	                           Speichern
	                           </button>
	                        </div>
	                     </fieldset>
	                  </form>
	               </div>
	            </div>
	         </div>
	         <div class="tab-pane fade in" id="tab4">
	            <div class="row">
					<div class="col-sm-8 col-sm-offset-2">
						<form class="form-horizontal" method="post" th:action="@{'/user/saveAbout/' + ${user.userId}}">
		                  <div class="form-group">
		                     <textarea name="about" id="about" rows="20">[[${user.about}]]</textarea>
		                  </div>
		                  <button class="btn btn-primary">
			                  <i class="fa fa-check"></i>
			                  Speichern
		                  </button>
	                  	</form>
					</div>
	            </div>
	         </div>
	         <div class="tab-pane fade in" id="tab5">
	            <div class="row">
	               <div class="col-md-8 col-md-offset-2 text-center upload-file">
	                  <div class="fileupload fileupload-new" data-provides="fileupload">
	                     <span class="btn btn-default btn-file">
	                     <span class="fileupload-new">
	                     <i class="icon ion-md-cloud-upload"></i>
	                     Neues Foto hochladen
	                     </span>
	                     <span class="fileupload-exists">Anderes Foto auswählen</span>         
	                     <input type="file" />
	                     </span>
	                     <span class="fileupload-preview"></span>
	                     <a href="#" class="close fileupload-exists" data-dismiss="fileupload" style="float: none">�</a>
	                  </div>
	               </div>
	               <div class="col-md-8 col-md-offset-2">
	                  <div class="col-md-4" th:each="photo : ${user.photos}">
	                     <div class="gallery-image">
	                        <img th:src="@{/resources/img/profile/} + ${photo.filename}" alt="" />
	                     </div>
	                     <div class="gallery-buttons">
	                        <a th:href="@{/user/deletePhoto(id=${photo.photoId})}" class="btn btn-danger btn-xs">
		                        <i class="icon ion-ios-trash-outline"></i>
		                        Löschen
	                        </a>
	                     </div>
	                  </div>
	               </div>
	            </div>
	         </div>
	      </div>
	   </div>
	</div>
	
	<div th:replace="~{includes/footer :: footer}" />
	<div th:replace="~{includes/scripts :: scripts}" />
	<script th:src="@{/resources/assets/fileupload.js}"></script>
	<script>
	    $(document).ready(function() {
	    	$(".btn-pref .btn").click(function () {
	            $(".btn-pref .btn").removeClass("btn-primary").addClass("btn-default");
	            $(this).removeClass("btn-default").addClass("btn-primary");   
	        });
	    });
	</script>
</body>
</html>
